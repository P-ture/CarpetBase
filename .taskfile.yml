- name: build
  tasks:
    - mkdir -p public
    - - npm run html
    - - webpack --config webpack/development.server.js
    - - webpack --config webpack/development.application.js
    - - npm run images

- name: build
  env: production
  tasks:
    - mkdir -p public
    - - npm run html
    - - webpack --config webpack/development.server.js
    - - webpack --config webpack/production.application.js
    - - npm run images

- name: watch
  task: npm run build && concurrently 'nodemon public/server.js' 'webpack --config webpack/development.server.js --watch' 'webpack --config webpack/development.application.js --watch' 'taskfile sass --watch'

- name: sass
  tasks:
    - node-sass src/sass/application.scss public/assets/css/application.css $1
    - node-sass src/sass/contact.scss public/assets/css/contact.css $1
